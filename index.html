<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ³ÙŠØ±Ø§ ÙƒØ§ÙÙŠÙ‡ | Lucera Coffee</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <style>
        :root {
            --primary-dark: #1e3932;
            --accent-gold: #d4af37;
            --soft-beige: #f8f5f0;
        }
        body {
            font-family: 'Tajawal', sans-serif;
            background-color: var(--soft-beige);
            color: var(--primary-dark);
            overflow-x: hidden;
        }
        .hero-section {
            background: linear-gradient(rgba(30, 57, 50, 0.85), rgba(30, 57, 50, 0.9)),
                        url('https://images.unsplash.com/photo-1544145945-f904253db0ad?q=80&w=2000&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
        
        .category-tab {
            color: var(--primary-dark);
            opacity: 0.75;
            font-weight: 600;
            transition: all 0.3s ease;
            white-space: nowrap;
        }
        .category-tab.active {
            opacity: 1;
            font-weight: 800;
            background: rgba(30, 57, 50, 0.08);
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.82);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.35);
            transition: all 0.4s ease;
        }
        .glass-card:hover { transform: translateY(-6px); }
        
        .product-image { height: 220px; object-fit: cover; border-radius: 16px; }
        
        .size-btn {
            width: 40px; height: 40px; border: 2px solid var(--primary-dark);
            background: white; color: var(--primary-dark); font-weight: bold;
            border-radius: 9999px; transition: all 0.2s;
        }
        .size-btn.active, .size-btn:hover { background: var(--primary-dark); color: white; }
        
        #active-indicator {
            height: 3px; background: var(--primary-dark); border-radius: 3px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: absolute;
            bottom: 0;
            inset-inline-start: 0;
            inline-size: 0;
        }
        #cart {
            position: fixed; bottom: 20px; right: 20px;
            background: var(--primary-dark); color: white;
            padding: 10px 20px; border-radius: 9999px;
            cursor: pointer; z-index: 1000; display: flex; align-items: center; gap: 10px;
        }
        #cart-modal {
            display: none; position: fixed; top: 0; left: 0;
            width: 100%; height: 100%; background: rgba(0,0,0,0.5);
            z-index: 1000; justify-content: center; align-items: center;
        }
        #cart-content {
            background: white; padding: 20px; border-radius: 16px;
            max-width: 400px; width: 95%; max-height: 90vh; overflow-y: auto;
        }
        .delivery-option {
            margin-top: 10px; padding: 10px; border: 1px solid var(--primary-dark);
            border-radius: 8px; cursor: pointer; transition: background 0.2s; text-align: center;
        }
        .delivery-option.selected { background: var(--accent-gold); color: var(--primary-dark); font-weight: bold; }
        body {
            overflow-x: clip !important;
        }
        .sticky {
            position: -webkit-sticky !important;
            position: sticky !important;
        }
    </style>
</head>
<body>

    <header class="hero-section h-[45vh] md:h-[55vh] flex items-center justify-center text-center px-4 rounded-b-3xl shadow-2xl mb-8">
        <div>
            <h1 class="text-white text-5xl md:text-7xl font-black mb-4 tracking-tight drop-shadow-xl">LUCERA COFFEE</h1>
            <p class="text-[#d4af37] text-xl md:text-3xl font-light">ÙÙ† Ø§Ù„Ù…Ø°Ø§Ù‚ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ.. ÙÙŠ ÙƒÙ„ Ø±Ø´ÙØ© Ø­ÙƒØ§ÙŠØ©</p>
        </div>
    </header>

    <section class="sticky top-0 z-50 bg-gradient-to-b from-[var(--soft-beige)] to-transparent pt-3 pb-2 shadow-sm">
        <div class="container mx-auto px-4">
            <div class="relative">
                <nav class="flex items-center overflow-x-auto scrollbar-hide snap-x snap-mandatory gap-3 md:gap-6 pb-3 md:justify-center" id="tabs-nav">
                    <button onclick="filterMenu('milk')" class="category-tab px-6 py-2.5 md:px-8 md:py-3 rounded-full text-lg md:text-xl snap-start active" id="tab-milk">ÙƒÙˆÙƒØªÙŠÙ„Ø§Øª Ø§Ù„Ø­Ù„ÙŠØ¨</button>
                    <button onclick="filterMenu('fresh')" class="category-tab px-6 py-2.5 md:px-8 md:py-3 rounded-full text-lg md:text-xl snap-start" id="tab-fresh">Ø¹ØµØ§Ø¦Ø± ÙØ±ÙŠØ´</button>
                    <button onclick="filterMenu('mojito')" class="category-tab px-6 py-2.5 md:px-8 md:py-3 rounded-full text-lg md:text-xl snap-start" id="tab-mojito">Ù…ÙˆÙ‡ÙŠØªÙˆ ÙˆØ§Ù†ØªØ¹Ø§Ø´</button>
                </nav>
                <div id="active-indicator" class="absolute bottom-0"></div>
            </div>
        </div>
    </section>

    <div class="container mx-auto px-5 mb-8">
        <div class="bg-gradient-to-r from-yellow-100 to-amber-200 text-amber-900 p-5 md:p-6 rounded-2xl shadow-md flex flex-col md:flex-row items-center justify-between">
            <div class="flex items-center gap-4 mb-4 md:mb-0">
                <div class="bg-white/40 p-3 rounded-full"><i class="fas fa-star text-3xl text-amber-800"></i></div>
                <div>
                    <h3 class="text-xl font-bold">ØªØ¬Ø±Ø¨Ø© Ù„ÙˆØ³ÙŠØ±Ø§ Ø§Ù„Ù…Ù„ÙƒÙŠØ©</h3>
                    <p class="text-base">Ù‚Ø´Ø·Ø© Ø¨Ù„Ø¯ÙŠØ© + Ø¹Ø³Ù„ Ø·Ø¨ÙŠØ¹ÙŠ + Ù…ÙƒØ³Ø±Ø§Øª ÙØ§Ø®Ø±Ø©</p>
                </div>
            </div>
            <span class="bg-amber-800 text-amber-100 px-6 py-2.5 rounded-full font-bold text-base shadow">Ø¥Ø¶Ø§ÙØ© Ø§Ø®ØªÙŠØ§Ø±ÙŠØ© +</span>
        </div>
    </div>

    <main class="container mx-auto px-5 pb-20">
        <div id="menu-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
    </main>

    <footer class="bg-[#1e3932] text-[#f8f5f0] py-16 px-6 rounded-t-3xl">
        <div class="container mx-auto grid grid-cols-1 lg:grid-cols-3 gap-10 text-center lg:text-right">
            <div>
                <h3 class="text-4xl font-black mb-6 text-[#d4af37]">Ù„ÙˆØ³ÙŠØ±Ø§ ÙƒØ§ÙÙŠÙ‡</h3>
                <p class="opacity-80 text-lg">Ù†Ø®ØªØ§Ø± Ø£ÙØ¶Ù„ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ù„Ù†Ù‚Ø¯Ù… ØªØ¬Ø±Ø¨Ø© Ø·Ø¹Ù… Ø­Ù‚ÙŠÙ‚ÙŠØ© ÙˆØµØ­ÙŠØ©.</p>
            </div>
            <div>
                <h3 class="text-2xl font-bold mb-6">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h3>
                <p class="mb-3"><i class="far fa-clock ml-2 text-[#d4af37]"></i> ÙŠÙˆÙ…ÙŠØ§Ù‹: 10 Øµ â€“ 12 Ù…</p>
                <p class="mb-4"><a href="tel:+963997462212" class="hover:text-[#d4af37]"><i class="fas fa-phone ml-2 text-[#d4af37]"></i> +963 997 462 212</a></p>
                <div class="flex justify-center lg:justify-start gap-6 text-3xl">
                    <a href="https://www.instagram.com/lucera.coffee" class="hover:text-[#d4af37]"><i class="fab fa-instagram"></i></a>
                    <a href="https://wa.me/963997462212" class="hover:text-green-400"><i class="fab fa-whatsapp"></i></a>
                </div>
            </div>
            <div>
                <h3 class="text-2xl font-bold mb-6">Ù…ÙˆÙ‚Ø¹Ù†Ø§</h3>
                <p class="mb-4 flex items-center justify-center lg:justify-start">
                    <i class="fas fa-map-marker-alt ml-2 text-[#d4af37] text-xl"></i>
                    Ø´Ø§Ø±Ø¹ Ø§Ù„Ø§Ù…ÙŠØ±Ø§Øª (Ø³Ø§Ø­Ø© Ø§Ù„Ø³ÙˆÙ‚) Ø¯Ø±Ø¹Ø§ Ø¨Ù„Ø¯Ø© Ø§Ù„Ø¬ÙŠØ²Ø© 
                </p>
                <div class="rounded-2xl overflow-hidden border-4 border-white/20">
                    <a href="https://maps.google.com/?q=32.6515,36.2917" target="_blank">
                        <img src="./img/image.jpg" alt="Ø®Ø±ÙŠØ·Ø©" class="w-full h-48 object-cover">
                    </a>
                </div>
            </div>
        </div>
        <p class="text-center mt-12 pt-8 border-t border-white/20 opacity-70">Â© 2026 Lucera coffee</p>
    </footer>

    <div id="cart" onclick="toggleCart()">
        <i class="fas fa-shopping-cart"></i>
        <span id="cart-count">0</span>
    </div>

    <div id="cart-modal" onclick="toggleCart()">
        <div id="cart-content" onclick="event.stopPropagation()">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl font-bold">Ø³Ù„ØªÙƒ</h2>
                <button onclick="toggleCart()" class="text-gray-500"><i class="fas fa-times"></i></button>
            </div>
            
            <div id="cart-items" class="mb-4"></div>
            
            <div class="border-t pt-4">
                <h3 class="font-bold mb-2">Ø®ÙŠØ§Ø± Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…:</h3>
                <div class="grid grid-cols-2 gap-2 mb-4">
                    <div class="delivery-option selected" id="pickup" onclick="selectDelivery('pickup')">Ø§Ø³ØªÙ„Ø§Ù… Ù…Ù† Ø§Ù„Ù…Ø­Ù„</div>
                    <div class="delivery-option" id="delivery" onclick="selectDelivery('delivery')">ØªÙˆØµÙŠÙ„ Ù„Ù„Ù…Ù†Ø²Ù„</div>
                </div>

                <div id="note-section" class="mb-4">
                    <label class="block text-sm font-bold mb-1">Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ø¹Ù†ÙˆØ§Ù† (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):</label>
                    <textarea id="order-note" class="w-full border rounded-lg p-2 text-sm" placeholder="Ù…Ø«Ø§Ù„: Ø¨Ø¬Ø§Ù†Ø¨ Ù…Ø³Ø¬Ø¯ Ø§Ù„ØªÙ‚ÙˆÙ‰..."></textarea>
                </div>
            </div>

            <button id="send-btn" onclick="sendOrder()" class="bg-[var(--primary-dark)] text-white px-5 py-3 rounded-full w-full font-bold shadow-lg flex justify-center items-center gap-2">
                <span>Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</span>
                <i class="fab fa-whatsapp text-xl"></i>
            </button>
        </div>
    </div>

    <script>
        const PHONE = "963997462212";
        let cart = [];
        let deliveryMethod = 'pickup';

        const menuItems = {
            milk: [
                { name: "ÙØ±Ø§ÙˆÙ„Ø© ÙˆØ­Ù„ÙŠØ¨", img: "./img/ÙØ±Ø§ÙˆÙ„Ø© ÙˆØ­Ù„ÙŠØ¨.jpg", desc: "ÙƒØ±ÙŠÙ…ÙŠ ØºÙ†ÙŠ Ø¨Ø§Ù„ÙØ±Ø§ÙˆÙ„Ø© Ø§Ù„Ø·Ø§Ø²Ø¬Ø©" },
                { name: "Ù…ÙˆØ² ÙˆØ­Ù„ÙŠØ¨", img: "./img/Ù…ÙˆØ² ÙˆØ­Ù„ÙŠØ¨.jpg", desc: "Ø·Ø¹Ù… ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ Ù…Ø­Ø¨ÙˆØ¨ Ù…Ù† Ø§Ù„Ù…ÙˆØ² Ø§Ù„Ù†Ø§Ø¶Ø¬" },
                { name: "Ù…ÙƒØ³ Ù…ÙˆØ² ÙˆÙØ±Ø§ÙˆÙ„Ø©", img: "./img/Ù…ÙƒØ³ Ù…ÙˆØ² ÙˆÙØ±Ø§ÙˆÙ„Ø©.jpg", desc: "Ù…Ø²ÙŠØ¬ Ù…Ø«Ø§Ù„ÙŠ Ù…Ù† Ø§Ù„Ù…ÙˆØ² ÙˆØ§Ù„ÙØ±Ø§ÙˆÙ„Ø©" },
                { name: "ÙØ±Ø§ÙˆÙ„Ø© ÙˆÙ…Ø§Ù†Ø¬Ø§", img: "./img/ÙØ±Ø§ÙˆÙ„Ø© ÙˆÙ…Ø§Ù†Ø¬Ø§.jpg", desc: "Ù†ÙƒÙ‡Ø© Ø§Ø³ØªÙˆØ§Ø¦ÙŠØ© Ù…Ù† Ø§Ù„ÙØ±Ø§ÙˆÙ„Ø© ÙˆØ§Ù„Ù…Ø§Ù†Ø¬Ùˆ" },
                { name: "Ø­Ù„ÙŠØ¨ ÙˆÙ…Ø§Ù†Ø¬Ø§", img: "./img/Ø­Ù„ÙŠØ¨ ÙˆÙ…Ø§Ù†Ø¬Ø§.jpg", desc: "ÙƒØ±ÙŠÙ…ÙŠ ÙˆÙ„Ø°ÙŠØ° Ù…Ø¹ Ø§Ù„Ù…Ø§Ù†Ø¬Ùˆ Ø§Ù„Ø·Ø§Ø²Ø¬" },
                { name: "Ù…ÙƒØ³ ÙÙˆØ§ÙƒØ©", img: "./img/Ù…ÙƒØ³ ÙÙˆØ§ÙƒØ©.jpg", desc: "Ù…Ø²ÙŠØ¬ Ù…Ù† Ø§Ù„ÙÙˆØ§ÙƒÙ‡ Ø§Ù„Ø·Ø§Ø²Ø¬Ø© Ø§Ù„Ù…ØªÙ†ÙˆØ¹Ø©" },
                { name: "ÙƒÙˆÙƒØªÙŠÙ„ Ù„ÙˆØ³ÙŠØ±Ø§", img: "./img/ÙƒÙˆÙƒØªÙŠÙ„ Ù„ÙˆØ³ÙŠØ±Ø§.jpg", desc: "ÙƒÙˆÙƒØªÙŠÙ„ Ø®Ø§Øµ Ø¨Ù„ÙˆØ³ÙŠØ±Ø§ Ø§Ù„ÙØ±ÙŠØ¯" },
                { name: "Ø£ÙÙˆÙƒØ§Ø¯Ùˆ", img: "./img/Ø£ÙÙˆÙƒØ§Ø¯Ùˆ.jpg", desc: "Ø³Ù…ÙˆØ°ÙŠ Ø£ÙÙˆÙƒØ§Ø¯Ùˆ ÙƒØ±ÙŠÙ…ÙŠ ÙˆØµØ­ÙŠ" },
                { name: "Ø£ÙÙˆÙƒØ§Ø¯Ùˆ ÙˆÙ…Ø§Ù†Ø¬Ø§", img: "./img/Ø£ÙÙˆÙƒØ§Ø¯Ùˆ ÙˆÙ…Ø§Ù†Ø¬Ø§.jpg", desc: "Ù…Ø²ÙŠØ¬ Ø£ÙÙˆÙƒØ§Ø¯Ùˆ ÙˆÙ…Ø§Ù†Ø¬Ùˆ Ø§Ø³ØªÙˆØ§Ø¦ÙŠ" },
                { name: "Ø£ÙÙˆÙƒØ§Ø¯Ùˆ ÙˆÙØ±Ø§ÙˆÙ„Ø©", img: "./img/Ø£ÙÙˆÙƒØ§Ø¯Ùˆ ÙˆÙØ±Ø§ÙˆÙ„Ø©.jpg", desc: "Ø·Ø¹Ù… Ù…Ù†Ø¹Ø´ Ù…Ù† Ø§Ù„Ø£ÙÙˆÙƒØ§Ø¯Ùˆ ÙˆØ§Ù„ÙØ±Ø§ÙˆÙ„Ø©" }
            ],
            fresh: [
                { name: "Ø¨Ø±ØªÙ‚Ø§Ù„", img: "./img/Ø¨Ø±ØªÙ‚Ø§Ù„.jpg", desc: "Ø¹ØµÙŠØ± Ø¨Ø±ØªÙ‚Ø§Ù„ Ø·Ø§Ø²Ø¬ ÙˆÙ…Ù†Ø¹Ø´" },
                { name: "Ø¨Ø±ØªÙ‚Ø§Ù„ ÙˆÙØ±Ø§ÙˆÙ„Ø©", img: "./img/Ø¨Ø±ØªÙ‚Ø§Ù„ ÙˆÙØ±Ø§ÙˆÙ„Ø©.jpg", desc: "Ù…Ø²ÙŠØ¬ Ø¨Ø±ØªÙ‚Ø§Ù„ ÙˆÙØ±Ø§ÙˆÙ„Ø© Ù„Ø°ÙŠØ°" },
                { name: "Ø¨Ø±ØªÙ‚Ø§Ù„ ÙˆØ¬Ø²Ø±", img: "./img/Ø¨Ø±ØªÙ‚Ø§Ù„ ÙˆØ¬Ø²Ø±.jpg", desc: "Ø¹ØµÙŠØ± Ø¨Ø±ØªÙ‚Ø§Ù„ ÙˆØ¬Ø²Ø± Ù…ØºØ°ÙŠ" },
                { name: "Ø¨Ø±ØªÙ‚Ø§Ù„ ÙˆÙ„ÙŠÙ…ÙˆÙ†", img: "./img/Ø¨Ø±ØªÙ‚Ø§Ù„ ÙˆÙ„ÙŠÙ…ÙˆÙ†.jpg", desc: "Ù†ÙƒÙ‡Ø© Ø­Ù…Ø¶ÙŠØ© Ù…Ù† Ø§Ù„Ø¨Ø±ØªÙ‚Ø§Ù„ ÙˆØ§Ù„Ù„ÙŠÙ…ÙˆÙ†" },
                { name: "Ù„ÙŠÙ…ÙˆÙ†", img: "./img/Ù„ÙŠÙ…ÙˆÙ†.jpg", desc: "Ø¹ØµÙŠØ± Ù„ÙŠÙ…ÙˆÙ† Ø·Ø§Ø²Ø¬ ÙˆÙ…Ù†Ø´Ø·" },
                { name: "Ù„ÙŠÙ…ÙˆÙ† ÙˆÙ†Ø¹Ù†Ø¹", img: "./img/Ù„ÙŠÙ…ÙˆÙ† ÙˆÙ†Ø¹Ù†Ø¹.jpg", desc: "Ù„ÙŠÙ…ÙˆÙ† Ù…Ø¹ Ù†Ø¹Ù†Ø¹ Ù…Ù†Ø¹Ø´" },
                { name: "Ù„ÙŠÙ…ÙˆÙ† ÙˆÙƒÙŠÙˆÙŠ", img: "./img/Ù„ÙŠÙ…ÙˆÙ† ÙˆÙƒÙŠÙˆÙŠ.jpg", desc: "Ù…Ø²ÙŠØ¬ Ù„ÙŠÙ…ÙˆÙ† ÙˆÙƒÙŠÙˆÙŠ Ø§Ø³ØªÙˆØ§Ø¦ÙŠ" },
                { name: "Ø±Ù…Ø§Ù†", img: "./img/Ø±Ù…Ø§Ù†.jpg", desc: "Ø¹ØµÙŠØ± Ø±Ù…Ø§Ù† ØºÙ†ÙŠ ÙˆÙ…ÙÙŠØ¯" },
                { name: "Ø¬Ø²Ø±", img: "./img/Ø¬Ø²Ø±.jpg", desc: "Ø¹ØµÙŠØ± Ø¬Ø²Ø± Ø·Ø§Ø²Ø¬ ÙˆØµØ­ÙŠ" },
                { name: "Ø¨ÙˆÙ„Ùˆ", img: "./img/Ø¨ÙˆÙ„Ùˆ.jpg", desc: "Ø¹ØµÙŠØ± Ø¨ÙˆÙ„Ùˆ Ù…Ù†Ø¹Ø´ ÙˆÙ…Ù…ÙŠØ²" }
            ],
            mojito: [
                { name: "Ù…ÙƒØ³ Ù„ÙˆØ³ÙŠØ±Ø§(Ù¡)", img: "./img/Ù…ÙƒØ³ Ù„ÙˆØ³ÙŠØ±Ø§(Ù¡).jpg", desc: "Ù…ÙƒØ³ Ù„ÙˆØ³ÙŠØ±Ø§ Ø§Ù„Ø®Ø§Øµ Ø±Ù‚Ù… 1" },
                { name: "Ù…ÙƒØ³ Ù„ÙˆØ³ÙŠØ±Ø§ (Ù¢)", img: "./img/Ù…ÙƒØ³ Ù„ÙˆØ³ÙŠØ±Ø§ (Ù¢).jpg", desc: "Ù…ÙƒØ³ Ù„ÙˆØ³ÙŠØ±Ø§ Ø§Ù„Ø®Ø§Øµ Ø±Ù‚Ù… 2" },
                { name: "Ø¹Ù„ÙƒØ©", img: "./img/Ø¹Ù„ÙƒØ©.jpg", desc: "Ù…ÙˆÙ‡ÙŠØªÙˆ Ø¨Ù†ÙƒÙ‡Ø© Ø§Ù„Ø¹Ù„ÙƒØ© Ø§Ù„Ù…Ù…ØªØ¹Ø©" },
                { name: "Ù†Ø¹Ù†Ø¹", img: "./img/Ù†Ø¹Ù†Ø¹.jpg", desc: "Ù…ÙˆÙ‡ÙŠØªÙˆ Ù†Ø¹Ù†Ø¹ ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ" },
                { name: "ÙƒØ±Ø²", img: "./img/ÙƒØ±Ø².jpg", desc: "Ù…ÙˆÙ‡ÙŠØªÙˆ ÙƒØ±Ø² Ø·Ø§Ø²Ø¬" },
                { name: "Ø¨Ø·ÙŠØ®", img: "./img/Ø¨Ø·ÙŠØ®.jpg", desc: "Ù…ÙˆÙ‡ÙŠØªÙˆ Ø¨Ø·ÙŠØ® ØµÙŠÙÙŠ Ù…Ù†Ø¹Ø´" },
                { name: "ØªÙˆØª", img: "./img/ØªÙˆØª.jpg", desc: "Ù…ÙˆÙ‡ÙŠØªÙˆ ØªÙˆØª ØºÙ†ÙŠ Ø¨Ø§Ù„Ù†ÙƒÙ‡Ø©" },
                { name: "ÙØ±Ø§ÙˆÙ„Ø©", img: "./img/ÙØ±Ø§ÙˆÙ„Ø©.jpg", desc: "Ù…ÙˆÙ‡ÙŠØªÙˆ ÙØ±Ø§ÙˆÙ„Ø© Ù„Ø°ÙŠØ°" },
                { name: "ÙƒÙŠÙˆÙŠ", img: "./img/ÙƒÙŠÙˆÙŠ.jpg", desc: "Ù…ÙˆÙ‡ÙŠØªÙˆ ÙƒÙŠÙˆÙŠ Ø§Ø³ØªÙˆØ§Ø¦ÙŠ" },
                { name: "Ø¨Ø§Ø´Ù† ÙØ±ÙˆØª", img: "./img/Ø¨Ø§Ø´Ù† ÙØ±ÙˆØª.jpg", desc: "Ù…ÙˆÙ‡ÙŠØªÙˆ Ø¨Ø§Ø´Ù† ÙØ±ÙˆØª Ù…Ø«ÙŠØ±" }
            ]
        };

        function filterMenu(category) {
            document.querySelectorAll('.category-tab').forEach(t => t.classList.remove('active'));
            const activeTab = document.getElementById(`tab-${category}`);
            activeTab.classList.add('active');
            activeTab.scrollIntoView({ behavior: 'smooth', inline: 'center' });
            const container = document.getElementById('menu-container');
            container.style.opacity = '0';
            setTimeout(() => {
                container.innerHTML = '';
                (menuItems[category] || []).forEach((item, i) => {
                    const cardId = `card-${category}-${i}`;
                    container.innerHTML += `
                        <div class="glass-card rounded-2xl p-4 flex flex-col h-full group" id="${cardId}">
                            <img src="${item.img}" class="product-image mb-4 group-hover:scale-105 transition-transform" alt="${item.name}">
                            <h3 class="text-xl font-bold mb-2">${item.name}</h3>
                            <p class="opacity-75 mb-3 text-sm">${item.desc}</p>
                            <div class="flex justify-between items-center mt-auto">
                                <div class="flex gap-2">
                                    <button class="size-btn" onclick="selectSize(this, '${cardId}')">S</button>
                                    <button class="size-btn active" onclick="selectSize(this, '${cardId}')">M</button>
                                    <button class="size-btn" onclick="selectSize(this, '${cardId}')">L</button>
                                </div>
                                <button onclick="addToCart('${cardId}', '${item.name}')" class="bg-[var(--primary-dark)] text-white px-5 py-2 rounded-full flex items-center gap-2 hover:bg-[var(--accent-gold)] hover:text-[var(--primary-dark)] transition">
                                    Ø£Ø¶Ù <i class="fas fa-plus"></i>
                                </button>
                            </div>
                        </div>
                    `;
                });
                container.style.opacity = '1';
                updateIndicator();
            }, 300);
        }

        function selectSize(btn, cardId) {
            document.querySelectorAll(`#${cardId} .size-btn`).forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        }

        function addToCart(cardId, name) {
            const activeSize = document.querySelector(`#${cardId} .size-btn.active`).textContent;
            cart.push({ name, size: activeSize });
            updateCartCount();
            const toast = document.createElement('div');
            toast.className = "fixed bottom-24 left-1/2 -translate-x-1/2 bg-green-600 text-white px-6 py-2 rounded-full z-[2000] shadow-xl";
            toast.innerText = `ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© ${name} Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©`;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 2000);
        }

        function updateCartCount() {
            document.getElementById('cart-count').textContent = cart.length;
        }

        function toggleCart() {
            const modal = document.getElementById('cart-modal');
            modal.style.display = modal.style.display === 'flex' ? 'none' : 'flex';
            renderCartItems();
        }

        function renderCartItems() {
            const itemsContainer = document.getElementById('cart-items');
            itemsContainer.innerHTML = '';
            if (cart.length === 0) {
                itemsContainer.innerHTML = '<p class="text-center py-4 text-gray-500">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ© Ø­Ø§Ù„ÙŠØ§Ù‹</p>';
                return;
            }
            cart.forEach((item, index) => {
                itemsContainer.innerHTML += `
                    <div class="flex justify-between items-center mb-3 bg-gray-50 p-3 rounded-lg">
                        <div>
                            <span class="font-bold">${item.name}</span>
                            <span class="text-xs bg-gray-200 px-2 py-1 rounded ml-2">Ø­Ø¬Ù… ${item.size}</span>
                        </div>
                        <button onclick="removeFromCart(${index})" class="text-red-500 p-2"><i class="fas fa-trash"></i></button>
                    </div>
                `;
            });
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            renderCartItems();
            updateCartCount();
        }

        function selectDelivery(method) {
            document.getElementById('pickup').classList.remove('selected');
            document.getElementById('delivery').classList.remove('selected');
            document.getElementById(method).classList.add('selected');
            deliveryMethod = method;
        }

        // --- Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ù…Ø¹Ø¯Ù„ Ù„ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ø³ÙØ§Ø±ÙŠ ÙˆÙƒØ±ÙˆÙ… Ù…Ø¹Ø§Ù‹ ---
        function sendOrder() {
            if (cart.length === 0) {
                alert('Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©!');
                return;
            }

            const btn = document.getElementById('send-btn');
            const originalText = btn.innerHTML;
            const note = document.getElementById('order-note').value;
            
            let orderDetails = cart.map(item => `- ${item.name} (${item.size})`).join('\n');
            let msgText = `*Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Lucera Coffee* â˜•\n\n`;
            msgText += `*Ø§Ù„Ø·Ù„Ø¨Ø§Øª:*\n${orderDetails}\n\n`;
            msgText += `*Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…:* ${deliveryMethod === 'delivery' ? 'ØªÙˆØµÙŠÙ„ Ù„Ù„Ù…Ù†Ø²Ù„ ğŸšš' : 'Ø§Ø³ØªÙ„Ø§Ù… Ù…Ù† Ø§Ù„Ù…Ø­Ù„ ğŸª'}\n`;
            if (note) msgText += `*Ù…Ù„Ø§Ø­Ø¸Ø§Øª:* ${note}\n`;

            if (deliveryMethod === 'delivery') {
                btn.disabled = true;
                btn.innerHTML = `<span>Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹Ùƒ...</span>`;

                if ("geolocation" in navigator) {
                    navigator.geolocation.getCurrentPosition(
                        (position) => {
                            const lat = position.coords.latitude;
                            const lon = position.coords.longitude;
                            // Ø±Ø§Ø¨Ø· Ø¬ÙˆØ¬Ù„ Ù…Ø§Ø¨ Ø§Ù„ØµØ­ÙŠØ­ ÙˆØ§Ù„Ù…ØªÙˆØ§ÙÙ‚
                            const mapLink = `https://www.google.com/maps?q=${lat},${lon}`;
                            finalizeOrder(msgText + `\nğŸ“ *Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø²Ø¨ÙˆÙ†:*\n${mapLink}`);
                            btn.disabled = false;
                            btn.innerHTML = originalText;
                        },
                        (error) => {
                            alert("ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…ÙˆÙ‚Ø¹ØŒ Ø£Ùˆ Ø£Ø±Ø³Ù„Ù‡ ÙŠØ¯ÙˆÙŠØ§Ù‹ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨.");
                            finalizeOrder(msgText + "\nâš ï¸ (Ø§Ù„Ø²Ø¨ÙˆÙ† Ù„Ù… ÙŠØ´Ø§Ø±Ùƒ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ)");
                            btn.disabled = false;
                            btn.innerHTML = originalText;
                        },
                        { enableHighAccuracy: true, timeout: 10000 }
                    );
                } else {
                    finalizeOrder(msgText);
                    btn.disabled = false;
                    btn.innerHTML = originalText;
                }
            } else {
                finalizeOrder(msgText);
            }
        }

        function finalizeOrder(text) {
            const encoded = encodeURIComponent(text);
            const waUrl = `https://wa.me/${PHONE}?text=${encoded}`;
            
            // Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø³ÙØ§Ø±ÙŠ ÙÙŠ ÙØªØ­ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©
            if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {
                window.location.href = waUrl;
            } else {
                window.open(waUrl, '_blank');
            }

            cart = [];
            updateCartCount();
            toggleCart();
        }

        function updateIndicator() {
            const active = document.querySelector('.category-tab.active');
            if (!active) return;
            const indicator = document.getElementById('active-indicator');
            const nav = document.getElementById('tabs-nav');
            const offset = active.offsetLeft - nav.scrollLeft;
            indicator.style.insetInlineStart = `${offset}px`;
            indicator.style.inlineSize = `${active.offsetWidth}px`;
        }

        window.addEventListener('load', () => { filterMenu('milk'); });
        window.addEventListener('resize', updateIndicator);
    </script>
</body>
</html>